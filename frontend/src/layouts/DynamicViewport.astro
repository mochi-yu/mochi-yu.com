<meta name='viewport' content='width=device-width, initial-scale=1.0' />
<script is:inline>
  // 以前の幅からwidthの変更が必要かどうかを確認する
  var beforeWidth = 'device-width';
  const newViewportContent = () => {
    const width = window.outerWidth;
    if (1200 >= width && width > 620) return '1200';
    else if (width <= 320) return '320';
    else return 'device-width';
  };

  const resizeEventHandler = () => {
    var currentViewport = newViewportContent(window.outerWidth);
    if (currentViewport != beforeWidth) setViewport(currentViewport);

    beforeWidth = currentViewport;
  };

  function setViewport(viewportContent) {
    document
      .querySelector('meta[name="viewport"]')
      .setAttribute('content', 'width=' + viewportContent + ', initial-scale=1.0');
  }

  window.addEventListener('load', function () {
    resizeEventHandler();
  });
  window.addEventListener('resize', resizeEventHandler);
</script>
